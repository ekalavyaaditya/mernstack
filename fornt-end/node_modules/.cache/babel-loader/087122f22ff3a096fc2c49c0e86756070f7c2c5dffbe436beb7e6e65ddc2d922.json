{"ast":null,"code":"import { ERROR, FAILURE_REGISTER, AUTH_ERROR, SET_CURRENT_USER, SUCCESSFUL_REGISTER } from \"../actions/types\";\nimport { isEmpty } from \"lodash\";\nconst initialState = {\n  isAuthenticated: false,\n  token: localStorage.getItem(\"token\"),\n  user: {},\n  errors: []\n};\nexport default function (state = initialState, action) {\n  const {\n    payload\n  } = action;\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      };\n    case SUCCESSFUL_REGISTER:\n      localStorage.set(\"token\", payload.token);\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true\n      };\n    case FAILURE_REGISTER:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: false\n      };\n    case AUTH_ERROR:\n    case ERROR:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["ERROR","FAILURE_REGISTER","AUTH_ERROR","SET_CURRENT_USER","SUCCESSFUL_REGISTER","isEmpty","initialState","isAuthenticated","token","localStorage","getItem","user","errors","state","action","payload","type","set","removeItem"],"sources":["D:/menrstack/fornt-end/src/reducers/authreducers.js"],"sourcesContent":["import { ERROR, FAILURE_REGISTER,AUTH_ERROR,SET_CURRENT_USER, SUCCESSFUL_REGISTER } from \"../actions/types\";\r\nimport { isEmpty } from \"lodash\";\r\n\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    token: localStorage.getItem(\"token\"),\r\n    user: {},\r\n    errors: []\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    const {payload} = action\r\n    switch(action.type){\r\n        case SET_CURRENT_USER:\r\n            return{\r\n                ...state,\r\n                isAuthenticated: true,\r\n                user: action.payload\r\n            }\r\n            case SUCCESSFUL_REGISTER:\r\n                localStorage.set(\"token\", payload.token)\r\n                return{\r\n                    ...state,\r\n                    ...payload,\r\n                    isAuthenticated: true\r\n                }\r\n            case FAILURE_REGISTER:\r\n                localStorage.removeItem(\"token\")\r\n                return{\r\n                    ...state,\r\n                    ...payload,\r\n                    isAuthenticated: false\r\n                }\r\n            case AUTH_ERROR:\r\n            case ERROR:\r\n                localStorage.removeItem(\"token\")\r\n                return{\r\n                    ...state,\r\n                    token: null,\r\n                    isAuthenticated: false\r\n                }\r\n        default:\r\n            return state\r\n    }\r\n}"],"mappings":"AAAA,SAASA,KAAK,EAAEC,gBAAgB,EAACC,UAAU,EAACC,gBAAgB,EAAEC,mBAAmB,QAAQ,kBAAkB;AAC3G,SAASC,OAAO,QAAQ,QAAQ;AAEhC,MAAMC,YAAY,GAAG;EACjBC,eAAe,EAAE,KAAK;EACtBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACpCC,IAAI,EAAE,CAAC,CAAC;EACRC,MAAM,EAAE;AACZ,CAAC;AAED,eAAe,UAASC,KAAK,GAAGP,YAAY,EAAEQ,MAAM,EAAC;EACjD,MAAM;IAACC;EAAO,CAAC,GAAGD,MAAM;EACxB,QAAOA,MAAM,CAACE,IAAI;IACd,KAAKb,gBAAgB;MACjB,OAAM;QACF,GAAGU,KAAK;QACRN,eAAe,EAAE,IAAI;QACrBI,IAAI,EAAEG,MAAM,CAACC;MACjB,CAAC;IACD,KAAKX,mBAAmB;MACpBK,YAAY,CAACQ,GAAG,CAAC,OAAO,EAAEF,OAAO,CAACP,KAAK,CAAC;MACxC,OAAM;QACF,GAAGK,KAAK;QACR,GAAGE,OAAO;QACVR,eAAe,EAAE;MACrB,CAAC;IACL,KAAKN,gBAAgB;MACjBQ,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;MAChC,OAAM;QACF,GAAGL,KAAK;QACR,GAAGE,OAAO;QACVR,eAAe,EAAE;MACrB,CAAC;IACL,KAAKL,UAAU;IACf,KAAKF,KAAK;MACNS,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;MAChC,OAAM;QACF,GAAGL,KAAK;QACRL,KAAK,EAAE,IAAI;QACXD,eAAe,EAAE;MACrB,CAAC;IACT;MACI,OAAOM,KAAK;EACpB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}