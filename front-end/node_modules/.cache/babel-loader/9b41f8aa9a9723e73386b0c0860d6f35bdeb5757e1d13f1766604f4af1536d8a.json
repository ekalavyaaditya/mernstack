{"ast":null,"code":"var Bounds3 = require('./bounds3.js');\nvar MAX_ITEMS = 4;\nmodule.exports = TreeNode;\nfunction TreeNode(bounds) {\n  this.bounds = bounds;\n  this.q0 = null;\n  this.q1 = null;\n  this.q2 = null;\n  this.q3 = null;\n  this.q4 = null;\n  this.q5 = null;\n  this.q6 = null;\n  this.q7 = null;\n  this.items = null;\n}\nTreeNode.prototype.subdivide = function subdivide() {\n  var bounds = this.bounds;\n  var quarter = bounds.half / 2;\n  this.q0 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y - quarter, bounds.z - quarter, quarter));\n  this.q1 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y - quarter, bounds.z - quarter, quarter));\n  this.q2 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y + quarter, bounds.z - quarter, quarter));\n  this.q3 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y + quarter, bounds.z - quarter, quarter));\n  this.q4 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y - quarter, bounds.z + quarter, quarter));\n  this.q5 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y - quarter, bounds.z + quarter, quarter));\n  this.q6 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y + quarter, bounds.z + quarter, quarter));\n  this.q7 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y + quarter, bounds.z + quarter, quarter));\n};\nTreeNode.prototype.insert = function insert(idx, array, depth) {\n  var isLeaf = this.q0 === null;\n  if (isLeaf) {\n    // TODO: this memory could be recycled to avoid GC\n    if (this.items === null) {\n      this.items = [idx];\n    } else {\n      this.items.push(idx);\n    }\n    if (this.items.length >= MAX_ITEMS && depth < 16) {\n      this.subdivide();\n      for (var i = 0; i < this.items.length; ++i) {\n        this.insert(this.items[i], array, depth + 1);\n      }\n      this.items = null;\n    }\n  } else {\n    var x = array[idx],\n      y = array[idx + 1],\n      z = array[idx + 2];\n    var bounds = this.bounds;\n    var quadIdx = 0; // assume NW\n    if (x > bounds.x) {\n      quadIdx += 1; // nope, we are in E part\n    }\n    if (y > bounds.y) {\n      quadIdx += 2; // Somewhere south.\n    }\n    if (z > bounds.z) {\n      quadIdx += 4; // Somewhere far\n    }\n    var child = getChild(this, quadIdx);\n    child.insert(idx, array, depth + 1);\n  }\n};\nTreeNode.prototype.query = function queryBounds(results, sourceArray, intersects, preciseCheck) {\n  if (!intersects(this.bounds)) return;\n  var items = this.items;\n  var needsCheck = typeof preciseCheck === 'function';\n  if (items) {\n    for (var i = 0; i < items.length; ++i) {\n      var idx = items[i];\n      if (needsCheck) {\n        if (preciseCheck(sourceArray[idx], sourceArray[idx + 1], sourceArray[idx + 2])) {\n          results.push(idx);\n        }\n      } else {\n        results.push(idx);\n      }\n    }\n  }\n  if (!this.q0) return;\n  this.q0.query(results, sourceArray, intersects, preciseCheck);\n  this.q1.query(results, sourceArray, intersects, preciseCheck);\n  this.q2.query(results, sourceArray, intersects, preciseCheck);\n  this.q3.query(results, sourceArray, intersects, preciseCheck);\n  this.q4.query(results, sourceArray, intersects, preciseCheck);\n  this.q5.query(results, sourceArray, intersects, preciseCheck);\n  this.q6.query(results, sourceArray, intersects, preciseCheck);\n  this.q7.query(results, sourceArray, intersects, preciseCheck);\n};\nfunction getChild(node, idx) {\n  if (idx === 0) return node.q0;\n  if (idx === 1) return node.q1;\n  if (idx === 2) return node.q2;\n  if (idx === 3) return node.q3;\n  if (idx === 4) return node.q4;\n  if (idx === 5) return node.q5;\n  if (idx === 6) return node.q6;\n  if (idx === 7) return node.q7;\n}","map":{"version":3,"names":["Bounds3","require","MAX_ITEMS","module","exports","TreeNode","bounds","q0","q1","q2","q3","q4","q5","q6","q7","items","prototype","subdivide","quarter","half","x","y","z","insert","idx","array","depth","isLeaf","push","length","i","quadIdx","child","getChild","query","queryBounds","results","sourceArray","intersects","preciseCheck","needsCheck","node"],"sources":["C:/Users/INSP 5430 I5/OneDrive/Desktop/mernstack/front-end/node_modules/yaot/lib/treeNode.js"],"sourcesContent":["var Bounds3 = require('./bounds3.js');\nvar MAX_ITEMS = 4;\n\nmodule.exports = TreeNode;\n\nfunction TreeNode(bounds) {\n  this.bounds = bounds;\n  this.q0 = null;\n  this.q1 = null;\n  this.q2 = null;\n  this.q3 = null;\n  this.q4 = null;\n  this.q5 = null;\n  this.q6 = null;\n  this.q7 = null;\n  this.items = null;\n}\n\nTreeNode.prototype.subdivide = function subdivide() {\n  var bounds = this.bounds;\n  var quarter = bounds.half / 2;\n\n  this.q0 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y - quarter, bounds.z - quarter, quarter));\n  this.q1 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y - quarter, bounds.z - quarter, quarter));\n  this.q2 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y + quarter, bounds.z - quarter, quarter));\n  this.q3 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y + quarter, bounds.z - quarter, quarter));\n  this.q4 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y - quarter, bounds.z + quarter, quarter));\n  this.q5 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y - quarter, bounds.z + quarter, quarter));\n  this.q6 = new TreeNode(new Bounds3(bounds.x - quarter, bounds.y + quarter, bounds.z + quarter, quarter));\n  this.q7 = new TreeNode(new Bounds3(bounds.x + quarter, bounds.y + quarter, bounds.z + quarter, quarter));\n};\n\nTreeNode.prototype.insert = function insert(idx, array, depth) {\n  var isLeaf = this.q0 === null;\n  if (isLeaf) {\n    // TODO: this memory could be recycled to avoid GC\n    if (this.items === null) {\n      this.items = [idx];\n    } else {\n      this.items.push(idx);\n    }\n    if (this.items.length >= MAX_ITEMS && depth < 16) {\n      this.subdivide();\n      for (var i = 0; i < this.items.length; ++i) {\n        this.insert(this.items[i], array, depth + 1);\n      }\n      this.items = null;\n    }\n  } else {\n    var x = array[idx],\n      y = array[idx + 1],\n      z = array[idx + 2];\n    var bounds = this.bounds;\n    var quadIdx = 0; // assume NW\n    if (x > bounds.x) {\n      quadIdx += 1; // nope, we are in E part\n    }\n    if (y > bounds.y) {\n      quadIdx += 2; // Somewhere south.\n    }\n    if (z > bounds.z) {\n      quadIdx += 4; // Somewhere far\n    }\n\n    var child = getChild(this, quadIdx);\n    child.insert(idx, array, depth + 1);\n  }\n};\n\nTreeNode.prototype.query = function queryBounds(results, sourceArray, intersects, preciseCheck) {\n  if (!intersects(this.bounds)) return;\n  var items = this.items;\n  var needsCheck = typeof preciseCheck === 'function';\n  if (items) {\n    for (var i = 0; i < items.length; ++i) {\n      var idx = items[i];\n      if (needsCheck) {\n        if (preciseCheck(sourceArray[idx], sourceArray[idx + 1], sourceArray[idx + 2])) {\n          results.push(idx);\n        }\n      } else {\n        results.push(idx);\n      }\n    }\n  }\n\n  if (!this.q0) return;\n\n  this.q0.query(results, sourceArray, intersects, preciseCheck);\n  this.q1.query(results, sourceArray, intersects, preciseCheck);\n  this.q2.query(results, sourceArray, intersects, preciseCheck);\n  this.q3.query(results, sourceArray, intersects, preciseCheck);\n  this.q4.query(results, sourceArray, intersects, preciseCheck);\n  this.q5.query(results, sourceArray, intersects, preciseCheck);\n  this.q6.query(results, sourceArray, intersects, preciseCheck);\n  this.q7.query(results, sourceArray, intersects, preciseCheck);\n};\n\nfunction getChild(node, idx) {\n  if (idx === 0) return node.q0;\n  if (idx === 1) return node.q1;\n  if (idx === 2) return node.q2;\n  if (idx === 3) return node.q3;\n  if (idx === 4) return node.q4;\n  if (idx === 5) return node.q5;\n  if (idx === 6) return node.q6;\n  if (idx === 7) return node.q7;\n}\n"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,cAAc,CAAC;AACrC,IAAIC,SAAS,GAAG,CAAC;AAEjBC,MAAM,CAACC,OAAO,GAAGC,QAAQ;AAEzB,SAASA,QAAQA,CAACC,MAAM,EAAE;EACxB,IAAI,CAACA,MAAM,GAAGA,MAAM;EACpB,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,EAAE,GAAG,IAAI;EACd,IAAI,CAACC,KAAK,GAAG,IAAI;AACnB;AAEAV,QAAQ,CAACW,SAAS,CAACC,SAAS,GAAG,SAASA,SAASA,CAAA,EAAG;EAClD,IAAIX,MAAM,GAAG,IAAI,CAACA,MAAM;EACxB,IAAIY,OAAO,GAAGZ,MAAM,CAACa,IAAI,GAAG,CAAC;EAE7B,IAAI,CAACZ,EAAE,GAAG,IAAIF,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;EACxG,IAAI,CAACV,EAAE,GAAG,IAAIH,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;EACxG,IAAI,CAACT,EAAE,GAAG,IAAIJ,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;EACxG,IAAI,CAACR,EAAE,GAAG,IAAIL,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;EACxG,IAAI,CAACP,EAAE,GAAG,IAAIN,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;EACxG,IAAI,CAACN,EAAE,GAAG,IAAIP,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;EACxG,IAAI,CAACL,EAAE,GAAG,IAAIR,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;EACxG,IAAI,CAACJ,EAAE,GAAG,IAAIT,QAAQ,CAAC,IAAIL,OAAO,CAACM,MAAM,CAACc,CAAC,GAAGF,OAAO,EAAEZ,MAAM,CAACe,CAAC,GAAGH,OAAO,EAAEZ,MAAM,CAACgB,CAAC,GAAGJ,OAAO,EAAEA,OAAO,CAAC,CAAC;AAC1G,CAAC;AAEDb,QAAQ,CAACW,SAAS,CAACO,MAAM,GAAG,SAASA,MAAMA,CAACC,GAAG,EAAEC,KAAK,EAAEC,KAAK,EAAE;EAC7D,IAAIC,MAAM,GAAG,IAAI,CAACpB,EAAE,KAAK,IAAI;EAC7B,IAAIoB,MAAM,EAAE;IACV;IACA,IAAI,IAAI,CAACZ,KAAK,KAAK,IAAI,EAAE;MACvB,IAAI,CAACA,KAAK,GAAG,CAACS,GAAG,CAAC;IACpB,CAAC,MAAM;MACL,IAAI,CAACT,KAAK,CAACa,IAAI,CAACJ,GAAG,CAAC;IACtB;IACA,IAAI,IAAI,CAACT,KAAK,CAACc,MAAM,IAAI3B,SAAS,IAAIwB,KAAK,GAAG,EAAE,EAAE;MAChD,IAAI,CAACT,SAAS,CAAC,CAAC;MAChB,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACf,KAAK,CAACc,MAAM,EAAE,EAAEC,CAAC,EAAE;QAC1C,IAAI,CAACP,MAAM,CAAC,IAAI,CAACR,KAAK,CAACe,CAAC,CAAC,EAAEL,KAAK,EAAEC,KAAK,GAAG,CAAC,CAAC;MAC9C;MACA,IAAI,CAACX,KAAK,GAAG,IAAI;IACnB;EACF,CAAC,MAAM;IACL,IAAIK,CAAC,GAAGK,KAAK,CAACD,GAAG,CAAC;MAChBH,CAAC,GAAGI,KAAK,CAACD,GAAG,GAAG,CAAC,CAAC;MAClBF,CAAC,GAAGG,KAAK,CAACD,GAAG,GAAG,CAAC,CAAC;IACpB,IAAIlB,MAAM,GAAG,IAAI,CAACA,MAAM;IACxB,IAAIyB,OAAO,GAAG,CAAC,CAAC,CAAC;IACjB,IAAIX,CAAC,GAAGd,MAAM,CAACc,CAAC,EAAE;MAChBW,OAAO,IAAI,CAAC,CAAC,CAAC;IAChB;IACA,IAAIV,CAAC,GAAGf,MAAM,CAACe,CAAC,EAAE;MAChBU,OAAO,IAAI,CAAC,CAAC,CAAC;IAChB;IACA,IAAIT,CAAC,GAAGhB,MAAM,CAACgB,CAAC,EAAE;MAChBS,OAAO,IAAI,CAAC,CAAC,CAAC;IAChB;IAEA,IAAIC,KAAK,GAAGC,QAAQ,CAAC,IAAI,EAAEF,OAAO,CAAC;IACnCC,KAAK,CAACT,MAAM,CAACC,GAAG,EAAEC,KAAK,EAAEC,KAAK,GAAG,CAAC,CAAC;EACrC;AACF,CAAC;AAEDrB,QAAQ,CAACW,SAAS,CAACkB,KAAK,GAAG,SAASC,WAAWA,CAACC,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,EAAE;EAC9F,IAAI,CAACD,UAAU,CAAC,IAAI,CAAChC,MAAM,CAAC,EAAE;EAC9B,IAAIS,KAAK,GAAG,IAAI,CAACA,KAAK;EACtB,IAAIyB,UAAU,GAAG,OAAOD,YAAY,KAAK,UAAU;EACnD,IAAIxB,KAAK,EAAE;IACT,KAAK,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGf,KAAK,CAACc,MAAM,EAAE,EAAEC,CAAC,EAAE;MACrC,IAAIN,GAAG,GAAGT,KAAK,CAACe,CAAC,CAAC;MAClB,IAAIU,UAAU,EAAE;QACd,IAAID,YAAY,CAACF,WAAW,CAACb,GAAG,CAAC,EAAEa,WAAW,CAACb,GAAG,GAAG,CAAC,CAAC,EAAEa,WAAW,CAACb,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE;UAC9EY,OAAO,CAACR,IAAI,CAACJ,GAAG,CAAC;QACnB;MACF,CAAC,MAAM;QACLY,OAAO,CAACR,IAAI,CAACJ,GAAG,CAAC;MACnB;IACF;EACF;EAEA,IAAI,CAAC,IAAI,CAACjB,EAAE,EAAE;EAEd,IAAI,CAACA,EAAE,CAAC2B,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;EAC7D,IAAI,CAAC/B,EAAE,CAAC0B,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;EAC7D,IAAI,CAAC9B,EAAE,CAACyB,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;EAC7D,IAAI,CAAC7B,EAAE,CAACwB,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;EAC7D,IAAI,CAAC5B,EAAE,CAACuB,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;EAC7D,IAAI,CAAC3B,EAAE,CAACsB,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;EAC7D,IAAI,CAAC1B,EAAE,CAACqB,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;EAC7D,IAAI,CAACzB,EAAE,CAACoB,KAAK,CAACE,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAC;AAC/D,CAAC;AAED,SAASN,QAAQA,CAACQ,IAAI,EAAEjB,GAAG,EAAE;EAC3B,IAAIA,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAAClC,EAAE;EAC7B,IAAIiB,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAACjC,EAAE;EAC7B,IAAIgB,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAAChC,EAAE;EAC7B,IAAIe,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAAC/B,EAAE;EAC7B,IAAIc,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAAC9B,EAAE;EAC7B,IAAIa,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAAC7B,EAAE;EAC7B,IAAIY,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAAC5B,EAAE;EAC7B,IAAIW,GAAG,KAAK,CAAC,EAAE,OAAOiB,IAAI,CAAC3B,EAAE;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}