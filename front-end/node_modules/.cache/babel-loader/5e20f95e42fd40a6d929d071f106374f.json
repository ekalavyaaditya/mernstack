{"ast":null,"code":"var _jsxFileName = \"D:\\\\mernstack\\\\front-end\\\\src\\\\components\\\\auth\\\\Register.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Input from \"../general/Input\";\nimport { register } from \"../../actions/authAction\";\nimport \"./RegisterStyle.css\";\nimport { message } from \"antd\";\nimport { Button } from \"@mui/material\";\nclass Register extends Component {\n  constructor() {\n    super();\n    this.redirectToHome = () => {\n      setTimeout(() => {\n        window.location.href = \"/\";\n      }, 1000);\n    };\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n  onSubmit() {\n    const url = new URLSearchParams(window.location.search);\n    const rol = url.getAll(\"role\");\n    const {\n      name,\n      email,\n      password,\n      password2\n    } = this.state;\n    if (name.trim() === \"\") {\n      message.error(\"Name is required\");\n      return;\n    } else if (email.trim() === \"\") {\n      message.error(\"Email is required\");\n      return;\n    } else if (!/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/.test(email)) {\n      message.error(\"Invalid email format\");\n      return;\n    } else if (password.trim().length < 5) {\n      message.error(\"Password is required and should be more than 5 characters\");\n      return;\n    } else if (password2.trim() === \"\") {\n      message.error(\"Confirm Password is required\");\n      return;\n    } else if (password2 !== password) {\n      message.error(\"Confirm Password does not match Password\");\n      return;\n    }\n    const newUser = {\n      name,\n      email,\n      password,\n      role: rol[0]\n    };\n    this.props.register(newUser);\n    const success = this.props.register(newUser);\n    if (success) {\n      message.success(\"Thank you for registering\");\n      this.redirectToHome();\n    }\n  }\n  render() {\n    const {\n      name,\n      password,\n      password2,\n      email\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Regbg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pgr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, \"Create Your Account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"name\",\n      type: \"text\",\n      placeholder: \"Enter Name\",\n      value: name,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Enter Email\",\n      value: email,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Enter Password\",\n      value: password,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      name: \"password2\",\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      value: password2,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      className: \"Rbtn\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    })));\n  }\n}\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\nexport default connect(mapStateToProps, {\n  register\n})(Register);","map":{"version":3,"names":["React","Component","connect","Input","register","message","Button","Register","constructor","redirectToHome","setTimeout","window","location","href","state","name","email","password","password2","onChange","bind","onSubmit","e","setState","target","value","url","URLSearchParams","search","rol","getAll","trim","error","test","length","newUser","role","props","success","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onClick","mapStateToProps","auth"],"sources":["D:/mernstack/front-end/src/components/auth/Register.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Input from \"../general/Input\";\r\nimport { register } from \"../../actions/authAction\";\r\nimport \"./RegisterStyle.css\";\r\nimport { message } from \"antd\";\r\nimport { Button } from \"@mui/material\";\r\n\r\nclass Register extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  redirectToHome = () => {\r\n    setTimeout(() => {\r\n      window.location.href = \"/\";\r\n    }, 1000);\r\n  };\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onSubmit() {\r\n    const url = new URLSearchParams(window.location.search);\r\n    const rol = url.getAll(\"role\");\r\n    const { name, email, password, password2 } = this.state;\r\n\r\n    if (name.trim() === \"\") {\r\n      message.error(\"Name is required\");\r\n      return;\r\n    } else if (email.trim() === \"\") {\r\n      message.error(\"Email is required\");\r\n      return;\r\n    } else if (!/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/.test(email)) {\r\n      message.error(\"Invalid email format\");\r\n      return;\r\n    } else if (password.trim().length < 5) {\r\n      message.error(\r\n        \"Password is required and should be more than 5 characters\"\r\n      );\r\n      return;\r\n    } else if (password2.trim() === \"\") {\r\n      message.error(\"Confirm Password is required\");\r\n      return;\r\n    } else if (password2 !== password) {\r\n      message.error(\"Confirm Password does not match Password\");\r\n      return;\r\n    }\r\n\r\n    const newUser = {\r\n      name,\r\n      email,\r\n      password,\r\n      role: rol[0],\r\n    };\r\n    this.props.register(newUser);\r\n    const success = this.props.register(newUser);\r\n    if (success) {\r\n      message.success(\"Thank you for registering\");\r\n      this.redirectToHome();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, password, password2, email } = this.state;\r\n    return (\r\n      <div className=\"Regbg\">\r\n        <div className=\"Main\">\r\n          <h1 className=\"heading\">Register</h1>\r\n          <p className=\"pgr\">Create Your Account</p>\r\n          <div className=\"input-container\">\r\n            <Input\r\n              name=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Name\"\r\n              value={name}\r\n              onChange={this.onChange}\r\n            />\r\n            <br />\r\n            <Input\r\n              name=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"Enter Email\"\r\n              value={email}\r\n              onChange={this.onChange}\r\n            />\r\n            <br />\r\n            <Input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Enter Password\"\r\n              value={password}\r\n              onChange={this.onChange}\r\n            />\r\n            <br />\r\n            <Input\r\n              name=\"password2\"\r\n              type=\"password\"\r\n              placeholder=\"Confirm Password\"\r\n              value={password2}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <br />\r\n          <Button type=\"primary\" className=\"Rbtn\" onClick={this.onSubmit}>\r\n            Register\r\n          </Button>\r\n          <br />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { register })(Register);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}